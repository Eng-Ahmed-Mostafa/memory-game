window.onload=function(){storage()};let startName=document.querySelector('[type="text"]'),startButton=document.querySelector('[type="button"]'),duration=1e3,memoryGameContainer=document.querySelector(".memory-game"),memoryGame=Array.from(memoryGameContainer.children),boxCounter=memoryGame.length,closed=document.querySelector(".closed"),opened=document.querySelector(".opened"),orderBoxs=[...Array(memoryGame.length).keys()],counterMistake=0,counterOpened=0;function turnBox(e){e.classList.add("turn");let n=memoryGame.filter(e=>e.classList.contains("turn"));2===n.length&&(stopClicking(),checkBox(n[0],n[1]))}function stopClicking(){memoryGameContainer.classList.add("no-turn"),setTimeout(function(){memoryGameContainer.classList.remove("no-turn")},duration + duration)}function checkBox(e,n){let o=document.querySelector(".mistake");e.getAttribute("data-technolgy")===n.getAttribute("data-technolgy")?(e.classList.remove("turn"),n.classList.remove("turn"),e.classList.add("infiniteturn"),n.classList.add("infiniteturn"),closed.innerHTML=parseInt(closed.innerHTML)-1,opened.innerHTML=parseInt(opened.innerHTML)+1,document.querySelector(".saccess").play(),0==parseInt(closed.innerHTML)&&(createList(),document.querySelector(".end-game").style.display="flex")):(setTimeout(function(){e.classList.remove("turn"),n.classList.remove("turn")},duration),o.innerHTML=parseInt(o.innerHTML)+1,document.querySelector(".fail").play())}function shuffle(e){let n=e.length,o,t;for(;n>0;)t=Math.floor(Math.random()*n),o=e[--n],e[n]=e[t],e[t]=o;return e}closed.innerHTML=memoryGame.length/2,startButton.onclick=function(){""!=startName.value&&(document.querySelector(".game").classList.remove("show"),document.querySelector(".start-game").classList.add("hidden"),document.querySelector("h1.name").innerHTML=startName.value,setTimeout(()=>{memoryGame.forEach(function(e){e.classList.add("turn"),setTimeout(function(){e.classList.remove("turn")},duration),e.style.pointerEvents="all"}),timer()},duration+300))},shuffle(orderBoxs),memoryGame.forEach(function(e,n){e.style.order=orderBoxs[n],e.addEventListener("click",function(){turnBox(e)})});let artIcon=document.querySelector(".icon i"),divColors=document.querySelector(".colors"),spanColors=Array.from(divColors.children),arr1=["004d73","76daff","005696"],arr2=["d5641c","f8dfc2","c9510c"],arr3=["7e245c","e1306c","fadfd8"];function removeChose(e){spanColors.forEach(function(e){e.classList.remove("chose")}),e.classList.add("chose"),e.classList.contains("c3")?storageColor(...arr3):e.classList.contains("c2")?storageColor(...arr2):storageColor(...arr1)}function storageColor(e,n,o){localStorage.setItem("colorHead",e),localStorage.setItem("colorBody",n),localStorage.setItem("colorElement",o),storage()}function colorBackground(e,n,o){document.querySelector(".header").style.backgroundColor=`#${e}`,memoryGameContainer.style.backgroundColor=`#${n}`,memoryGame.forEach(e=>e.style.background=`#${o}`)}artIcon.addEventListener("click",function(){divColors.classList.toggle("hidden")}),divColors.onmouseleave=function(){divColors.classList.add("hidden")},divColors.onclick=function(){divColors.classList.remove("hidden")},spanColors.forEach(function(e,n){e.onclick=function(){removeChose(e)}});let scoundSpan=document.querySelector(".scound"),miniteSpan=document.querySelector(".minite"),hourSpan=document.querySelector(".hour");function timer(){let e=setInterval(function(){0==parseInt(closed.innerHTML)?clearInterval(e):(scoundSpan.innerHTML=parseInt(scoundSpan.innerHTML)+1,timeClock())},1e3)}function timeClock(){60==parseInt(scoundSpan.innerHTML)&&(scoundSpan.innerHTML="00",miniteSpan.innerHTML=parseInt(miniteSpan.innerHTML)+1),60==parseInt(miniteSpan.innerHTML)&&(miniteSpan.innerHTML="00",hourSpan.innerHTML=parseInt(hourSpan.innerHTML)+1),timeDesign()}function timeDesign(){10>parseInt(scoundSpan.innerHTML)&&(scoundSpan.innerHTML="0"+parseInt(scoundSpan.innerHTML)),10>parseInt(miniteSpan.innerHTML)&&(miniteSpan.innerHTML="0"+parseInt(miniteSpan.innerHTML))}function createList(){let e=document.createElement("div");e.classList.add("list"),e.innerHTML=`
    <span class="name">${document.querySelector(".header h1.name").innerHTML}</span>
    <span><span class="hour">${hourSpan.innerHTML}</span>:<span class="minite">${miniteSpan.innerHTML}</span>:<span class="scound">${scoundSpan.innerHTML}</span></span>
    <span>${document.querySelector(".mistake").innerHTML}</span>
  `,document.querySelector(".list-game .content").prepend(e),localStorage.setItem("listStorage",JSON.stringify(document.querySelector(".list-game .content").innerHTML)),storage()}function storage(){let e=localStorage.getItem("colorHead"),n=localStorage.getItem("colorBody"),o=localStorage.getItem("colorElement");document.querySelector(".list-game .content").innerHTML=JSON.parse(localStorage.getItem("listStorage")),colorBackground(e,n,o)}document.querySelector(".end-game .button").onclick=function(){location.reload()};